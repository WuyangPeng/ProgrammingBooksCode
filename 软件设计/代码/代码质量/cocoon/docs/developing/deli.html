<html xmlns:NetUtils="org.apache.cocoon.util.NetUtils">
<head>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>DELI: A Delivery Context Library for CC/PP and UAProf</title>
<script type="text/javascript" src="resources/script.js" language="JavaScript"></script>
</head>
<body bgcolor="#ffffff" marginheight="4" marginwidth="4" leftmargin="4" topmargin="4" alink="#cc0000" vlink="#0086b2" link="#039acc" text="#000000">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" rowspan="3" height="60" width="135"><img border="0" vspace="0" hspace="0" src="images/logo.gif" height="60" width="135"></td><td background="images/line.gif" colspan="2" align="left" valign="top" height="5" width="100%"><img align="left" border="0" vspace="0" hspace="0" src="images/line.gif" height="5" width="1"></td><td align="left" valign="top" rowspan="3" height="60" width="29"><img border="0" vspace="0" hspace="0" src="images/right.gif" height="60" width="29"></td>
</tr>
<tr>
<td bgcolor="#0086b2" colspan="2" align="right" valign="top" height="35" width="100%"><img align="right" alt="DELI: A Delivery Context Library for CC/PP and UAProf" border="0" vspace="0" hspace="0" src="graphics/deli-header.jpg_label=DELI_%20A%20Delivery%20Context%20Library%20for%20CC/PP%20and%20UAProf.jpg"></td>
</tr>
<tr>
<td background="images/bottom.gif" bgcolor="#0086b2" align="left" valign="top" height="20" width="100%"><img align="left" border="0" vspace="0" hspace="0" src="images/bottom.gif" height="20" width="3"></td><td background="images/bottom.gif" width="288" valign="top" height="20" bgcolor="#0086b2" align="right">
<table width="288" cellspacing="0" cellpadding="0" border="0">
<tr>
<td align="left" valign="top" height="20" width="96"><a onMouseOver="rolloverOn('xml');" onMouseOut="rolloverOff('xml');" target="new" href="http://xml.apache.org/"><img onLoad="rolloverLoad('xml', 'images/button-xml-hi.gif', 'images/button-xml-lo.gif');" border="0" vspace="0" hspace="0" name="xml" src="images/button-xml-lo.gif" height="20" width="96" alt="http://xml.apache.org/"></a></td><td align="left" valign="top" height="20" width="96"><a onMouseOver="rolloverOn('asf');" onMouseOut="rolloverOff('asf');" target="new" href="http://www.apache.org/"><img onLoad="rolloverLoad('asf', 'images/button-asf-hi.gif', 'images/button-asf-lo.gif');" border="0" vspace="0" hspace="0" name="asf" src="images/button-asf-lo.gif" height="20" width="96" alt="http://www.apache.org/"></a></td><td align="left" valign="top" height="20" width="96"><a onMouseOver="rolloverOn('w3c');" onMouseOut="rolloverOff('w3c');" target="new" href="http://www.w3.org/"><img onLoad="rolloverLoad('w3c', 'images/button-w3c-hi.gif', 'images/button-w3c-lo.gif');" border="0" vspace="0" hspace="0" name="w3c" src="images/button-w3c-lo.gif" height="20" width="96" alt="http://www.w3.org/"></a></td>
</tr>
</table>
</td>
</tr>
</table>
<table width="100%" cellspacing="0" cellpadding="0" border="0">
<tr width="100%">
<td valign="top" width="120">
<table width="120" cellspacing="0" cellpadding="0" border="0">
<tr>
<td valign="top" align="left"><img width="120" vspace="0" src="images/join.gif" hspace="0" height="14" border="0"><br>
</td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('Main')" onMouseOut="rolloverOff('Main')" href="../index.html"><img onLoad="rolloverLoad('Main', 'graphics/Main-label_over.jpg', 'graphics/Main-label.jpg');" vspace="0" hspace="0" name="Main" width="120" height="12" border="0" src="graphics/Main-label.jpg" alt="Main"></a></td>
</tr>
<tr>
<td valign="top" align="left"><img alt="Concepts" width="120" vspace="0" src="graphics/Concepts-separator.jpg" hspace="0" height="20" border="0"><br>
</td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('Flow')" onMouseOut="rolloverOff('Flow')" href="httprequest.html"><img onLoad="rolloverLoad('Flow', 'graphics/Flow-label_over.jpg', 'graphics/Flow-label.jpg');" vspace="0" hspace="0" name="Flow" width="120" height="12" border="0" src="graphics/Flow-label.jpg" alt="Flow"></a></td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('Extending C2')" onMouseOut="rolloverOff('Extending C2')" href="extending.html"><img onLoad="rolloverLoad('Extending C2', 'graphics/Extending%20C2-label_over.jpg', 'graphics/Extending%20C2-label.jpg');" vspace="0" hspace="0" name="Extending C2" width="120" height="12" border="0" src="graphics/Extending%20C2-label.jpg" alt="Extending C2"></a></td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('Avalon')" onMouseOut="rolloverOff('Avalon')" href="avalon.html"><img onLoad="rolloverLoad('Avalon', 'graphics/Avalon-label_over.jpg', 'graphics/Avalon-label.jpg');" vspace="0" hspace="0" name="Avalon" width="120" height="12" border="0" src="graphics/Avalon-label.jpg" alt="Avalon"></a></td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('Using Databases')" onMouseOut="rolloverOff('Using Databases')" href="datasources.html"><img onLoad="rolloverLoad('Using Databases', 'graphics/Using%20Databases-label_over.jpg', 'graphics/Using%20Databases-label.jpg');" vspace="0" hspace="0" name="Using Databases" width="120" height="12" border="0" src="graphics/Using%20Databases-label.jpg" alt="Using Databases"></a></td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('Parent CM')" onMouseOut="rolloverOff('Parent CM')" href="parent-component-manager.html"><img onLoad="rolloverLoad('Parent CM', 'graphics/Parent%20CM-label_over.jpg', 'graphics/Parent%20CM-label.jpg');" vspace="0" hspace="0" name="Parent CM" width="120" height="12" border="0" src="graphics/Parent%20CM-label.jpg" alt="Parent CM"></a></td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('Deli quick start')" onMouseOut="rolloverOff('Deli quick start')" href="deliquick.html"><img onLoad="rolloverLoad('Deli quick start', 'graphics/Deli%20quick%20start-label_over.jpg', 'graphics/Deli%20quick%20start-label.jpg');" vspace="0" hspace="0" name="Deli quick start" width="120" height="12" border="0" src="graphics/Deli%20quick%20start-label.jpg" alt="Deli quick start"></a></td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('CC/PP and UAProf')" onMouseOut="rolloverOff('CC/PP and UAProf')" href="deli.html"><img onLoad="rolloverLoad('CC/PP and UAProf', 'graphics/CC/PP%20and%20UAProf-label_over.jpg', 'graphics/CC/PP%20and%20UAProf-label.jpg');" vspace="0" hspace="0" name="CC/PP and UAProf" width="120" height="12" border="0" src="graphics/CC/PP%20and%20UAProf-label.jpg" alt="CC/PP and UAProf"></a></td>
</tr>
<tr>
<td valign="top" align="left"><img alt="Java" width="120" vspace="0" src="graphics/Java-separator.jpg" hspace="0" height="20" border="0"><br>
</td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('API (Javadoc)')" onMouseOut="rolloverOff('API (Javadoc)')" target="new" href="../apidocs/index.html"><img onLoad="rolloverLoad('API (Javadoc)', 'graphics/API%20(Javadoc)-label_over.jpg', 'graphics/API%20(Javadoc)-label.jpg');" width="120" vspace="0" name="API (Javadoc)" hspace="0" height="12" border="0" src="graphics/API%20(Javadoc)-label.jpg" alt="API (Javadoc)"></a></td>
</tr>
<tr>
<td align="left" valign="top"><img width="120" vspace="0" src="images/close.gif" hspace="0" height="14" border="0"><br>
</td>
</tr>
</table>
</td><td>
<table cellspacing="0" cellpadding="0" border="0">
<tr>
<td height="10" width="100%"></td>
</tr>
<tr>
<td>
	
	
		
<div align="right">
<table cellpadding="0" cellspacing="0" width="98%" border="0">
<tr>
<td align="right" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-left.gif"></td><td background="images/bar-border-top.gif"><img border="0" hspace="0" vspace="0" height="5" width="1" src="images/void.gif"></td><td align="left" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-right.gif"></td>
</tr>
<tr>
<td background="images/bar-border-left.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td><td bgcolor="#0086b2" width="100%"><font color="#ffffff" face="arial,helvetica,sanserif" size="+1"><img border="0" hspace="0" vspace="0" height="5" width="5" src="images/void.gif"><b>Introduction</b></font></td><td background="images/bar-border-right.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td>
</tr>
<tr>
<td align="right" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-left.gif"></td><td background="images/bar-border-bottom.gif"><img border="0" hspace="0" vspace="0" height="12" src="images/void.gif"></td><td align="left" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-right.gif"></td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" width="98%" border="0">
<tr>
<td><font color="#000000" face="arial,helvetica,sanserif">
			
<p align="justify">In order for a web server 
to provide optimized content to different clients it requires a description of the 
capabilities of the client. Two new compatible standards have been created for 
describing delivery context based on the 
<a href="http://www.w3.org/RDF/">Resource Description Framework (RDF)</a>: 
<a href="http://www.w3.org/Mobile/CCPP/">Composite Capabilities / Preferences Profile (CC/PP)</a> 
created by the <a href="http://www.w3.org">W3C</a> and 
<a href="http://www1.wapforum.org/tech/terms.asp?doc=WAP-248-UAProf-20010530-p.pdf">User Agent Profile (UAProf)</a> 
created by the 
<a href="http://www.wapforum.org">WAP Forum</a>. 
These standards allow the efficient transmission of 
delivery context information to the server even via low bandwidth wireless networks. 
Instead of sending an entire profile with every request, 
a client only sends a reference to a profile, stored on a third device known 
as a profile repository, along with a list of differences specific to this particular 
client. The process of reassembling the final profile from 
the profile references and differences is known as profile resolution.</p>
			
<p align="justify">
				
<a href="http://www-uk.hpl.hp.com/">HP Labs</a> 
has produced an open-source library called DELI that allows Java servlets to resolve HTTP requests 
containing CC/PP or UAProf information and query the resolved 
profile. This document describes how DELI may be used
within Apache Cocoon. For more information on the DELI library please refer to the 
<a href="http://www-uk.hpl.hp.com/people/marbut/">DELI web-site</a>.
DELI currently uses 
<a href="http://www.hpl.hp.com/semweb/jena-top.html">Jena</a>, an RDF 
Framework developed at HP Labs. For more details of Jena see Brian McBride's 
<a href="http://www-uk.hpl.hp.com/people/bwm/papers/20001221-paper/">paper</a> 
and the HP Labs 
<a href="http://www.hpl.hp.com/semweb/">Semantic Web activity</a> homepage.</p>
		
</font></td>
</tr>
</table>
</div>
<br>
		
<div align="right">
<table cellpadding="0" cellspacing="0" width="98%" border="0">
<tr>
<td align="right" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-left.gif"></td><td background="images/bar-border-top.gif"><img border="0" hspace="0" vspace="0" height="5" width="1" src="images/void.gif"></td><td align="left" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-right.gif"></td>
</tr>
<tr>
<td background="images/bar-border-left.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td><td bgcolor="#0086b2" width="100%"><font color="#ffffff" face="arial,helvetica,sanserif" size="+1"><img border="0" hspace="0" vspace="0" height="5" width="5" src="images/void.gif"><b>CC/PP</b></font></td><td background="images/bar-border-right.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td>
</tr>
<tr>
<td align="right" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-left.gif"></td><td background="images/bar-border-bottom.gif"><img border="0" hspace="0" vspace="0" height="12" src="images/void.gif"></td><td align="left" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-right.gif"></td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" width="98%" border="0">
<tr>
<td><font color="#000000" face="arial,helvetica,sanserif">
			
<p align="justify">CC/PP is described in 
<a href="http://www.w3.org/TR/CCPP-struct-vocab/">CC/PP Structure and Vocabularies</a>, 
<a href="http://www.w3.org/TR/2000/WD-CCPP-ra-20000721/">CC/PP Requirements and Architecture</a> and 
<a href="http://www.w3.org/TR/2000/WD-CCPP-ta-20000721/">CC/PP Terminology and Abbreviations</a>.
A CC/PP profile is broadly constructed as a two level hierarchy: 
a profile has a number of components and each component has a number 
of attributes. A protocol for transmitting CC/PP profiles has been
<a href="http://www.w3.org/TR/NOTE-CCPPexchange">proposed</a> but is based on an experimental 
variant of HTTP known as <a href="http://www.w3.org/Protocols/HTTP/ietf-http-ext/">HTTP-ex</a> so is not compatible with existing servers. 
Therefore DELI uses the W-HTTP protocol proposed by UAProf. This has identical functionality to the CC/PP 
protocol based on HTTP-ex, but is compatible with HTTP/1.1.</p>
		
</font></td>
</tr>
</table>
</div>
<br>
		
<div align="right">
<table cellpadding="0" cellspacing="0" width="98%" border="0">
<tr>
<td align="right" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-left.gif"></td><td background="images/bar-border-top.gif"><img border="0" hspace="0" vspace="0" height="5" width="1" src="images/void.gif"></td><td align="left" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-right.gif"></td>
</tr>
<tr>
<td background="images/bar-border-left.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td><td bgcolor="#0086b2" width="100%"><font color="#ffffff" face="arial,helvetica,sanserif" size="+1"><img border="0" hspace="0" vspace="0" height="5" width="5" src="images/void.gif"><b>UAProf</b></font></td><td background="images/bar-border-right.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td>
</tr>
<tr>
<td align="right" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-left.gif"></td><td background="images/bar-border-bottom.gif"><img border="0" hspace="0" vspace="0" height="12" src="images/void.gif"></td><td align="left" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-right.gif"></td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" width="98%" border="0">
<tr>
<td><font color="#000000" face="arial,helvetica,sanserif">
			
<p align="justify">The UAProf specification is based on the CC/PP specification. Like CC/PP, 
a UAProf profile is a two level hierarchy composed of components and 
attributes. Unlike CC/PP, the UAProf specification also proposes a vocabulary 
- a specific set of components and attributes - to describe the next 
generation of WAP phones. 
The specification also describes two protocols for transmitting the profile 
&gt;from the client to the server. Currently DELI only supports the W-HTTP protocol.</p>
			
<p align="justify">Profiles using the UAProf vocabulary consist of six components: 
HardwarePlatform, SoftwarePlatform, NetworkCharacteristics, BrowserUA, 
WapCharacteristics and PushCharacteristics. These components contain attributes. 
In DELI each attribute has a distinct name and has an associated collection type, 
attribute type and resolution rule. In UAProf there are three collection types:</p>
			
<blockquote>
<ul>
				
<li>
					
<code><font face="courier, monospaced">Simple</font></code> contains a single value e.g. ColorCapable in HardwarePlatform. </li>
				
<li>
					
<code><font face="courier, monospaced">Bag</font></code> contains multiple unordered values e.g. BluetoothProfile in the 
HardwarePlatform component.</li>
				
<li>
					
<code><font face="courier, monospaced">Seq</font></code> contains multiple ordered values e.g. Ccpp-AcceptLanguage 
in the SoftwarePlatform component.</li>
			
</ul>
</blockquote>
			
<p align="justify">In addition attributes can have one of four attribute types:</p>
			
<blockquote>
<ul>
				
<li>
					
<code><font face="courier, monospaced">String</font></code> e.g. BrowserName in BrowserUA.</li>
				
<li>
					
<code><font face="courier, monospaced">Boolean</font></code> e.g. ColorCapable in HardwarePlatform.</li>
				
<li>
					
<code><font face="courier, monospaced">Number</font></code> is a positive integer e.g. BitsPerPixel in HardwarePlatform.</li>
				
<li>
					
<code><font face="courier, monospaced">Dimension</font></code> is a pair of positive integers e.g. ScreenSize in HardwarePlatform.</li>
			
</ul>
</blockquote>
			
<p align="justify">Finally attributes are associated with a resolution rule:</p>
			
<blockquote>
<ul>
				
<li>
					
<code><font face="courier, monospaced">Locked</font></code> indicates the final value of an attribute is the first 
occurrence of the attribute outside the default description block.</li>
				
<li>
					
<code><font face="courier, monospaced">Override</font></code> indicates the final value of an attribute is the last occurrence 
of the attribute outside the default description block.</li>
				
<li>
					
<code><font face="courier, monospaced">Append</font></code> indicates the final value of the attribute is the 
list of all occurrences of the attribute outside the default 
description block.</li>
			
</ul>
</blockquote>
			
<p align="justify">The UAProf vocabulary is described using the file <code><font face="courier, monospaced">uaprofspec.xml</font></code>. 
This describes the attribute name, component, 
collectionType, attributeType and resolution rule of each component. 
The vocabulary description file has the following format:</p>
			
<div align="center">
<table border="0" cellpadding="0" cellspacing="4">
<tr>
<td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
<tr>
<td width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td bgcolor="#ffffff">
<pre>
&lt;?xml version="1.0"?&gt;
&lt;vocabspec&gt;
	&lt;attribute&gt;
		&lt;name&gt;CcppAccept&lt;/name&gt;
		&lt;component&gt;SoftwarePlatform&lt;/component&gt;
		&lt;collectionType&gt;Bag&lt;/collectionType&gt;
		&lt;attributeType&gt;Literal&lt;/attributeType&gt;
		&lt;resolution&gt;Append&lt;/resolution&gt;
	&lt;/attribute&gt;
&lt;/vocabspec&gt;
</pre>
</td><td width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
<tr>
<td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
</table>
</div>
			
<p align="justify">DELI can also read vocabularies described using RDF schemas. The WAP Forum have 
			published two such schemas to describe the two versions of UAProf currently in use. However 
			RDF Schema does not provide an easy way of describing attributeType or resolution rule. 
			Therefore the UAProf schemas store this information in the comments field for each attribute. 			
			Therefore DELI also parses the comments fields to create the vocabulary. This is not an ideal 
			solution so hopefully a more robust way of representing this information will be used in later versions of UAProf.</p>
		
</font></td>
</tr>
</table>
</div>
<br>
		
<div align="right">
<table cellpadding="0" cellspacing="0" width="98%" border="0">
<tr>
<td align="right" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-left.gif"></td><td background="images/bar-border-top.gif"><img border="0" hspace="0" vspace="0" height="5" width="1" src="images/void.gif"></td><td align="left" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-right.gif"></td>
</tr>
<tr>
<td background="images/bar-border-left.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td><td bgcolor="#0086b2" width="100%"><font color="#ffffff" face="arial,helvetica,sanserif" size="+1"><img border="0" hspace="0" vspace="0" height="5" width="5" src="images/void.gif"><b>W-HTTP Protocol</b></font></td><td background="images/bar-border-right.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td>
</tr>
<tr>
<td align="right" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-left.gif"></td><td background="images/bar-border-bottom.gif"><img border="0" hspace="0" vspace="0" height="12" src="images/void.gif"></td><td align="left" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-right.gif"></td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" width="98%" border="0">
<tr>
<td><font color="#000000" face="arial,helvetica,sanserif">
			
<p align="justify">An 
example W-HTTP request using this protocol is shown below:</p>
			
<div align="center">
<table border="0" cellpadding="0" cellspacing="4">
<tr>
<td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
<tr>
<td width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td bgcolor="#ffffff">
<pre>
GET /ccpp/html/ HTTP/1.1
Host: localhost
x-wap-profile:"http://127.0.0.1:8080/ccpp/profiles/test09defaults.rdf", 
  "1-Rb0sq/nuUFQU75vAjKyiHw=="
x-wap-profile-diff:1;&lt;?xml version="1.0"?&gt;
 &lt;rdf:RDF xmlns="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
  xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" 
  xmlns:prf="http://www.wapforum.org/profiles/UAPROF/ccppschema-20010430#"&gt;
  &lt;rdf:Description rdf:ID="MyDeviceProfile"&gt;
     &lt;prf:component&gt;
       &lt;rdf:Description rdf:ID="HardwarePlatform"&gt;
          &lt;rdf:type 
  rdf:resource="http://www.wapforum.org/profiles/UAPROF/ccppschema-
    20010426#HardwarePlatform"/&gt;
  		&lt;prf:BitsPerPixel&gt;16&lt;/prf:BitsPerPixel&gt;
       &lt;/rdf:Description&gt;
     &lt;/prf:component&gt;
  &lt;/rdf:Description&gt;
 &lt;/rdf:RDF&gt;
</pre>
</td><td width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
<tr>
<td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
</table>
</div>
			
<p align="justify">The first two lines
describe the resource that is being requested by the client, 
http://localhost/ccpp/html, and the method being used to make 
the request, GET, and the protocol being used HTTP/1.1. The 
remaining lines of the request describe the device delivery context. 
This is specified using a profile reference and a profile-diff. 
The profile is referenced via the x-wap-profile line and has the URI</p>
			
<div align="center">
<table border="0" cellpadding="0" cellspacing="4">
<tr>
<td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
<tr>
<td width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td bgcolor="#ffffff">
<pre>
http://127.0.0.1:8080/ccpp/profiles/test09defaults.rdf. 
</pre>
</td><td width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
<tr>
<td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
</table>
</div>
			
<p align="justify">After the profile reference, there is a value</p>
			
<div align="center">
<table border="0" cellpadding="0" cellspacing="4">
<tr>
<td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
<tr>
<td width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td bgcolor="#ffffff">
<pre>
1-Rb0sq/nuUFQU75vAjKyiHw== 
</pre>
</td><td width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
<tr>
<td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
</table>
</div>
			
<p align="justify">known as a profile-diff digest. 
The first part of the profile-diff-digest, 1-, is the profile-diff 
sequence number. This is used to indicate the order of the 
profile-diffs and to indicate which profile-diff the profile-diff 
digest refers to. The remainder of the profile-diff digest is 
generated by applying the 
<a href="http://www.faqs.org/rfcs/rfc1321.html">MD5 message digest algorithm</a> and Base64 
algorithm to the corresponding profile-diff. The MD5 algorithm 
takes as input a message of arbitary length and produces as output 
a 128-bit "fingerprint" or "message-digest" of the input. 
The 
<a href="http://www.faqs.org/rfcs/rfc2045.html">Base64 algorithm</a> takes as input arbitary binary data and 
produces as output printable encoding data.</p>
			
<p align="justify">After the profile-diff digest, the next line contains the 
x-wap-profile-diff. This request header field also has a 
profile-diff sequence number which indicates that this 
profile-diff corresponds to the previous 
profile-diff-digest. The profile-diff itself consists of the XML 
fragment which spans the remainder of the request. Multi-line 
request header fields are permitted by the HTTP/1.1 specification 
as long as each subsequent line starts with either a tab character 
or a whitespace. </p>
			
<p align="justify">When the server receives a HTTP request with UAProf 
request headers, it has to perform profile resolution 
i.e. retrieve the referenced profile(s) and any further 
profiles referenced via default blocks. It then has to 
merge these profiles and the profile-diffs while 
applying the UAProf resolution rules.</p>
		
</font></td>
</tr>
</table>
</div>
<br>
		
<div align="right">
<table cellpadding="0" cellspacing="0" width="98%" border="0">
<tr>
<td align="right" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-left.gif"></td><td background="images/bar-border-top.gif"><img border="0" hspace="0" vspace="0" height="5" width="1" src="images/void.gif"></td><td align="left" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-right.gif"></td>
</tr>
<tr>
<td background="images/bar-border-left.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td><td bgcolor="#0086b2" width="100%"><font color="#ffffff" face="arial,helvetica,sanserif" size="+1"><img border="0" hspace="0" vspace="0" height="5" width="5" src="images/void.gif"><b>Configuring DELI</b></font></td><td background="images/bar-border-right.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td>
</tr>
<tr>
<td align="right" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-left.gif"></td><td background="images/bar-border-bottom.gif"><img border="0" hspace="0" vspace="0" height="12" src="images/void.gif"></td><td align="left" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-right.gif"></td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" width="98%" border="0">
<tr>
<td><font color="#000000" face="arial,helvetica,sanserif">
			
<p align="justify">In order to use DELI, you need to enable the DELI component.
In addition, you may want to configure DELI using <code><font face="courier, monospaced">deliConfig.xml</font></code>, the DELI 
configuration file or <code><font face="courier, monospaced">legacyDevices.xml</font></code>, the
DELI legacy device support file.</p>
			
<div align="right">
<table cellpadding="0" cellspacing="0" width="95%" border="0">
<tr>
<td align="right" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-left.gif"></td><td background="images/bar-border-top.gif"><img border="0" hspace="0" vspace="0" height="5" width="1" src="images/void.gif"></td><td align="left" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-right.gif"></td>
</tr>
<tr>
<td background="images/bar-border-left.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td><td bgcolor="#0086b2" width="100%"><font color="#ffffff" face="arial,helvetica,sanserif"><img border="0" hspace="0" vspace="0" height="5" width="5" src="images/void.gif"><b>Cocoon.xconf</b></font></td><td background="images/bar-border-right.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td>
</tr>
<tr>
<td align="right" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-left.gif"></td><td background="images/bar-border-bottom.gif"><img border="0" hspace="0" vspace="0" height="12" width="1" src="images/void.gif"></td><td align="left" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-right.gif"></td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" width="95%" border="0">
<tr>
<td><font color="#000000" face="arial,helvetica,sanserif">
				
<p align="justify">In order to use DELI you need to configure Deli and specify
the configuration file. You can either
do this in <code><font face="courier, monospaced">deli.xconf</font></code> in which case you will need to rebuild
Cocoon or change the deployed <code><font face="courier, monospaced">cocoon.xconf</font></code> in the web-server directory:</p>
				
<div align="center">
<table border="0" cellpadding="0" cellspacing="4">
<tr>
<td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
<tr>
<td width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td bgcolor="#ffffff">
<pre>
  &lt;deli class="org.apache.cocoon.components.deli.DeliImpl"&gt;
    &lt;parameter name="deli-config-file" value="resources/deli/config/deliConfig.xml"/&gt;
  &lt;/deli&gt;
</pre>
</td><td width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
<tr>
<td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
</table>
</div>
			
</font></td>
</tr>
</table>
</div>
<br>
			
<div align="right">
<table cellpadding="0" cellspacing="0" width="95%" border="0">
<tr>
<td align="right" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-left.gif"></td><td background="images/bar-border-top.gif"><img border="0" hspace="0" vspace="0" height="5" width="1" src="images/void.gif"></td><td align="left" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-right.gif"></td>
</tr>
<tr>
<td background="images/bar-border-left.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td><td bgcolor="#0086b2" width="100%"><font color="#ffffff" face="arial,helvetica,sanserif"><img border="0" hspace="0" vspace="0" height="5" width="5" src="images/void.gif"><b>Sitemap.xmap</b></font></td><td background="images/bar-border-right.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td>
</tr>
<tr>
<td align="right" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-left.gif"></td><td background="images/bar-border-bottom.gif"><img border="0" hspace="0" vspace="0" height="12" width="1" src="images/void.gif"></td><td align="left" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-right.gif"></td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" width="95%" border="0">
<tr>
<td><font color="#000000" face="arial,helvetica,sanserif">
				
<p align="justify">In order to make profile information available to your stylesheet then you
				 need to add <code><font face="courier, monospaced">&lt;map:parameter name="use-deli" value="true"/&gt;</font></code> to the 
				match that specifies your stylesheet in <code><font face="courier, monospaced">sitemap.xmap</font></code>. Here is the match used for the deli test stylesheet:
 </p>
				
<div align="center">
<table border="0" cellpadding="0" cellspacing="4">
<tr>
<td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
<tr>
<td width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td bgcolor="#ffffff">
<pre>
   &lt;map:match pattern="deli.html"&gt;
     &lt;map:generate src="docs/samples/hello-page.xml"/&gt;
     &lt;map:transform src="stylesheets/deli_test.xsl" type="xslt"&gt;
         &lt;map:parameter name="use-deli" value="true"/&gt;
     &lt;/map:transform&gt;
     &lt;map:serialize type="html"/&gt;
   &lt;/map:match&gt;
</pre>
</td><td width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
<tr>
<td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
</table>
</div>
			
</font></td>
</tr>
</table>
</div>
<br>
			
<div align="right">
<table cellpadding="0" cellspacing="0" width="95%" border="0">
<tr>
<td align="right" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-left.gif"></td><td background="images/bar-border-top.gif"><img border="0" hspace="0" vspace="0" height="5" width="1" src="images/void.gif"></td><td align="left" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-right.gif"></td>
</tr>
<tr>
<td background="images/bar-border-left.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td><td bgcolor="#0086b2" width="100%"><font color="#ffffff" face="arial,helvetica,sanserif"><img border="0" hspace="0" vspace="0" height="5" width="5" src="images/void.gif"><b>Main Configuration File</b></font></td><td background="images/bar-border-right.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td>
</tr>
<tr>
<td align="right" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-left.gif"></td><td background="images/bar-border-bottom.gif"><img border="0" hspace="0" vspace="0" height="12" width="1" src="images/void.gif"></td><td align="left" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-right.gif"></td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" width="95%" border="0">
<tr>
<td><font color="#000000" face="arial,helvetica,sanserif">
				
<p align="justify">DELI also has its own
configuration files that are found in the <code><font face="courier, monospaced">resources\deli\config</font></code> directory. 
The most important one, <code><font face="courier, monospaced">deliConfig.xml</font></code> is used to configure the main DELI options:</p>
				
<div align="center">
<table border="0" cellpadding="0" cellspacing="4">
<tr>
<td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
<tr>
<td width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td bgcolor="#ffffff">
<pre>
&lt;?xml version="1.0"?&gt;
&lt;deli&gt;
  &lt;legacyDeviceFile&gt;resources/deli/config/legacyDevice.xml&lt;/legacyDeviceFile&gt;
  &lt;debug&gt;false&lt;/debug&gt;
  &lt;printDefaults&gt;false&lt;/printDefaults&gt;
  &lt;printProfileBeforeMerge&gt;false&lt;/printProfileBeforeMerge&gt;
  &lt;schemaVocabularyFile namespace="http://www.wapforum.org/UAPROF/ccppschema-20000405#"&gt;
	resources/deli/config/vocab/ccppschema-20000405.rdfs
  &lt;/schemaVocabularyFile&gt;
  &lt;schemaVocabularyFile namespace="http://www.wapforum.org/profiles/UAPROF/ccppschema-20010330#"&gt;
	resources/deli/config/vocab/ccppschema-20010330.rdfs
  &lt;/schemaVocabularyFile&gt;
  &lt;vocabularyFile&gt;
	resources/deli/config/vocab/uaprof_vocab_30apr2001.xml
  &lt;/vocabularyFile&gt;
&lt;/deli&gt;
</pre>
</td><td width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
<tr>
<td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
</table>
</div>
				
<p align="justify">This file can contain a number of configuration directives described in 
in the following sections:</p>
				
<div align="right">
<table cellpadding="0" cellspacing="0" width="90%" border="0">
<tr>
<td align="right" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-left.gif"></td><td background="images/bar-border-top.gif"><img border="0" hspace="0" vspace="0" height="5" width="1" src="images/void.gif"></td><td align="left" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-right.gif"></td>
</tr>
<tr>
<td background="images/bar-border-left.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td><td bgcolor="#0086b2" width="100%"><font color="#ffffff" face="arial,helvetica,sanserif" size="-1"><img border="0" hspace="0" vspace="0" height="5" width="5" src="images/void.gif"><b>Caching options</b></font></td><td background="images/bar-border-right.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td>
</tr>
<tr>
<td align="right" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-left.gif"></td><td background="images/bar-border-bottom.gif"><img border="0" hspace="0" vspace="0" height="12" width="1" src="images/void.gif"></td><td align="left" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-right.gif"></td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" width="90%" border="0">
<tr>
<td><font color="#000000" face="arial,helvetica,sanserif">
					
<p align="justify">The caching options control how the server
caches referenced profiles. DELI can either cache 
profiles indefinitely or update stale profiles after a set 
interval. It is also possible to configure the maximum size 
of the profile cache.</p>
					
<table cellpadding="2" cellspacing="2" border="0" width="100%">
<caption></caption>
						
<tr>
							
<td align="center" valign="center" rowspan="1" colspan="1" bgcolor="#039acc"><font face="arial,helvetica,sanserif" size="-1" color="#ffffff"><b>Element Name</b>&nbsp;
      </font></td>
							<td align="center" valign="center" rowspan="1" colspan="1" bgcolor="#039acc"><font face="arial,helvetica,sanserif" size="-1" color="#ffffff"><b>Default Value</b>&nbsp;
      </font></td>
							<td align="center" valign="center" rowspan="1" colspan="1" bgcolor="#039acc"><font face="arial,helvetica,sanserif" size="-1" color="#ffffff"><b>Description</b>&nbsp;
      </font></td>
						
</tr>
						
<tr>
							
<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">maxCachedProfileLifetime&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">24 hours&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">The maximum lifetime of a cached profile in hours.&nbsp;
      </font></td>
						
</tr>
						
<tr>
							
<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">maxCacheSize&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">100&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">The maximum number of profiles in the profile cache.&nbsp;
      </font></td>
						
</tr>
						
<tr>
							
<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">refreshStaleProfiles&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">false&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">Do we refresh cached profiles after the maximum lifetime has expired?&nbsp;
      </font></td>
						
</tr>
					
</table>
				
</font></td>
</tr>
</table>
</div>
<br>
				
<div align="right">
<table cellpadding="0" cellspacing="0" width="90%" border="0">
<tr>
<td align="right" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-left.gif"></td><td background="images/bar-border-top.gif"><img border="0" hspace="0" vspace="0" height="5" width="1" src="images/void.gif"></td><td align="left" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-right.gif"></td>
</tr>
<tr>
<td background="images/bar-border-left.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td><td bgcolor="#0086b2" width="100%"><font color="#ffffff" face="arial,helvetica,sanserif" size="-1"><img border="0" hspace="0" vspace="0" height="5" width="5" src="images/void.gif"><b>Debugging options</b></font></td><td background="images/bar-border-right.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td>
</tr>
<tr>
<td align="right" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-left.gif"></td><td background="images/bar-border-bottom.gif"><img border="0" hspace="0" vspace="0" height="12" width="1" src="images/void.gif"></td><td align="left" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-right.gif"></td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" width="90%" border="0">
<tr>
<td><font color="#000000" face="arial,helvetica,sanserif">
					
<p align="justify">The debugging options are used to control the 
information that DELI prints to the Servlet engine console.</p>
					
<table cellpadding="2" cellspacing="2" border="0" width="100%">
<caption></caption>
						
<tr>
							
<td align="center" valign="center" rowspan="1" colspan="1" bgcolor="#039acc"><font face="arial,helvetica,sanserif" size="-1" color="#ffffff"><b>Element Name</b>&nbsp;
      </font></td>
							<td align="center" valign="center" rowspan="1" colspan="1" bgcolor="#039acc"><font face="arial,helvetica,sanserif" size="-1" color="#ffffff"><b>Default Value</b>&nbsp;
      </font></td>
							<td align="center" valign="center" rowspan="1" colspan="1" bgcolor="#039acc"><font face="arial,helvetica,sanserif" size="-1" color="#ffffff"><b>Description</b>&nbsp;
      </font></td>
						
</tr>
						
<tr>
							
<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">debug&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">true&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">Is the automatic debug log information turned on?&nbsp;
      </font></td>
						
</tr>
						
<tr>
							
<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">printDefaults&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">true&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">Print both default and override values of attributes for debugging purposes?&nbsp;
      </font></td>
						
</tr>
						
<tr>
							
<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">printProfileBeforeMerge&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">false&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">Print the profile before merging for debugging purposes?&nbsp;
      </font></td>
						
</tr>
					
</table>
				
</font></td>
</tr>
</table>
</div>
<br>
				
<div align="right">
<table cellpadding="0" cellspacing="0" width="90%" border="0">
<tr>
<td align="right" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-left.gif"></td><td background="images/bar-border-top.gif"><img border="0" hspace="0" vspace="0" height="5" width="1" src="images/void.gif"></td><td align="left" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-right.gif"></td>
</tr>
<tr>
<td background="images/bar-border-left.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td><td bgcolor="#0086b2" width="100%"><font color="#ffffff" face="arial,helvetica,sanserif" size="-1"><img border="0" hspace="0" vspace="0" height="5" width="5" src="images/void.gif"><b>Legacy device options</b></font></td><td background="images/bar-border-right.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td>
</tr>
<tr>
<td align="right" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-left.gif"></td><td background="images/bar-border-bottom.gif"><img border="0" hspace="0" vspace="0" height="12" width="1" src="images/void.gif"></td><td align="left" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-right.gif"></td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" width="90%" border="0">
<tr>
<td><font color="#000000" face="arial,helvetica,sanserif">
					
<p align="justify">As already mentioned DELI can support legacy devices 
by recognising the user-agent string supplied by a client 
and mapping it on to a profile. In order to use this facility 
it is necessary to supply an XML file that contains information 
about legacy device user-agent strings and the corresponding 
profile URLs. The format for the legacy device file is
described in a subsequent section. </p>
					
<table cellpadding="2" cellspacing="2" border="0" width="100%">
<caption></caption>
						
<tr>
							
<td align="center" valign="center" rowspan="1" colspan="1" bgcolor="#039acc"><font face="arial,helvetica,sanserif" size="-1" color="#ffffff"><b>Element Name</b>&nbsp;
      </font></td>
							<td align="center" valign="center" rowspan="1" colspan="1" bgcolor="#039acc"><font face="arial,helvetica,sanserif" size="-1" color="#ffffff"><b>Default Value</b>&nbsp;
      </font></td>
							<td align="center" valign="center" rowspan="1" colspan="1" bgcolor="#039acc"><font face="arial,helvetica,sanserif" size="-1" color="#ffffff"><b>Description</b>&nbsp;
      </font></td>
						
</tr>
						
<tr>
							
<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">supportLegacyDevices&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">true&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">Is the legacy device database turned on?&nbsp;
      </font></td>
						
</tr>
						
<tr>
							
<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">legacyDeviceFile&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">legacyDevice.xml&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">The file containing the legacy device database.&nbsp;
      </font></td>
						
</tr>
					
</table>
				
</font></td>
</tr>
</table>
</div>
<br>
				
<div align="right">
<table cellpadding="0" cellspacing="0" width="90%" border="0">
<tr>
<td align="right" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-left.gif"></td><td background="images/bar-border-top.gif"><img border="0" hspace="0" vspace="0" height="5" width="1" src="images/void.gif"></td><td align="left" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-right.gif"></td>
</tr>
<tr>
<td background="images/bar-border-left.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td><td bgcolor="#0086b2" width="100%"><font color="#ffffff" face="arial,helvetica,sanserif" size="-1"><img border="0" hspace="0" vspace="0" height="5" width="5" src="images/void.gif"><b>Protocol options</b></font></td><td background="images/bar-border-right.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td>
</tr>
<tr>
<td align="right" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-left.gif"></td><td background="images/bar-border-bottom.gif"><img border="0" hspace="0" vspace="0" height="12" width="1" src="images/void.gif"></td><td align="left" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-right.gif"></td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" width="90%" border="0">
<tr>
<td><font color="#000000" face="arial,helvetica,sanserif">
					
<p align="justify">It is 
possible to switch on whitespace normalisation in profile-diffs 
prior to calculating the profile-diff-digest so that additional 
whitespaces added by the proxy are ignored. To use this option clients must also support whitespace normalisation.</p>
					
<table cellpadding="2" cellspacing="2" border="0" width="100%">
<caption></caption>
						
<tr>
							
<td align="center" valign="center" rowspan="1" colspan="1" bgcolor="#039acc"><font face="arial,helvetica,sanserif" size="-1" color="#ffffff"><b>Element Name</b>&nbsp;
      </font></td>
							<td align="center" valign="center" rowspan="1" colspan="1" bgcolor="#039acc"><font face="arial,helvetica,sanserif" size="-1" color="#ffffff"><b>Default Value</b>&nbsp;
      </font></td>
							<td align="center" valign="center" rowspan="1" colspan="1" bgcolor="#039acc"><font face="arial,helvetica,sanserif" size="-1" color="#ffffff"><b>Description</b>&nbsp;
      </font></td>
						
</tr>
						
<tr>
							
<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">normaliseWhitespaceInProfileDiff&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">true&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">Is whitespace normalisation of the profile-diff prior to calculating the profile-diff-digest turned on?&nbsp;
      </font></td>
						
</tr>
					
</table>
				
</font></td>
</tr>
</table>
</div>
<br>
				
<div align="right">
<table cellpadding="0" cellspacing="0" width="90%" border="0">
<tr>
<td align="right" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-left.gif"></td><td background="images/bar-border-top.gif"><img border="0" hspace="0" vspace="0" height="5" width="1" src="images/void.gif"></td><td align="left" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-right.gif"></td>
</tr>
<tr>
<td background="images/bar-border-left.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td><td bgcolor="#0086b2" width="100%"><font color="#ffffff" face="arial,helvetica,sanserif" size="-1"><img border="0" hspace="0" vspace="0" height="5" width="5" src="images/void.gif"><b>Vocabulary options</b></font></td><td background="images/bar-border-right.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td>
</tr>
<tr>
<td align="right" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-left.gif"></td><td background="images/bar-border-bottom.gif"><img border="0" hspace="0" vspace="0" height="12" width="1" src="images/void.gif"></td><td align="left" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-right.gif"></td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" width="90%" border="0">
<tr>
<td><font color="#000000" face="arial,helvetica,sanserif">
					
<p align="justify">DELI has a number of vocabulary options. Firstly 
it is possible to configure the vocabulary using an 
XML file, or if you are using UAProf using a UAProf RDF Schema.
You can find examples of both approaches in this distribution.
Secondly it is possible to 
specify the URI to be used for the RDF namespace. 
Thirdly it is possible to set the string used to represent 
components and defaults in the vocabulary. This is important 
because the two standards currently use different cases for 
the first letter of default elements (CC/PP uses "default" 
whereas UAProf uses "Default"). </p>
					
<table cellpadding="2" cellspacing="2" border="0" width="100%">
<caption></caption>
						
<tr>
							
<td align="center" valign="center" rowspan="1" colspan="1" bgcolor="#039acc"><font face="arial,helvetica,sanserif" size="-1" color="#ffffff"><b>Element Name</b>&nbsp;
      </font></td>
							<td align="center" valign="center" rowspan="1" colspan="1" bgcolor="#039acc"><font face="arial,helvetica,sanserif" size="-1" color="#ffffff"><b>Default Value</b>&nbsp;
      </font></td>
							<td align="center" valign="center" rowspan="1" colspan="1" bgcolor="#039acc"><font face="arial,helvetica,sanserif" size="-1" color="#ffffff"><b>Description</b>&nbsp;
      </font></td>
						
</tr>
						
<tr>
							
<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">vocabularyFile&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">uaprofspec.xml&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">The file containing the vocabulary specification.&nbsp;
      </font></td>
						
</tr>
						
<tr>
							
<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">schemaVocabularyFile&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">ccppschema-20000405.rdfs&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">The file containing the vocabulary specification as an UAProf RDF Schema. 
							Use the attribute <code><font face="courier, monospaced">namespace</font></code> to configure which namespace the schema corresponds to.&nbsp;
      </font></td>
						
</tr>
						
<tr>
							
<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">rdfUri&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">http://www.w3.org/1999/02/22-rdf-syntax-ns#&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">The namespace used for RDF constructs.&nbsp;
      </font></td>
						
</tr>
						
<tr>
							
<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">componentProperty&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">component&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">The name for components.&nbsp;
      </font></td>
						
</tr>
						
<tr>
							
<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">defaultProperty&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">Default&nbsp;
      </font></td>
							<td align="left" valign="top" rowspan="1" colspan="1" bgcolor="#a0ddf0"><font face="arial,helvetica,sanserif" size="-1" color="#000000">The name for defaults&nbsp;
      </font></td>
						
</tr>
					
</table>
				
</font></td>
</tr>
</table>
</div>
<br>
			
</font></td>
</tr>
</table>
</div>
<br>
			
<div align="right">
<table cellpadding="0" cellspacing="0" width="95%" border="0">
<tr>
<td align="right" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-left.gif"></td><td background="images/bar-border-top.gif"><img border="0" hspace="0" vspace="0" height="5" width="1" src="images/void.gif"></td><td align="left" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-right.gif"></td>
</tr>
<tr>
<td background="images/bar-border-left.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td><td bgcolor="#0086b2" width="100%"><font color="#ffffff" face="arial,helvetica,sanserif"><img border="0" hspace="0" vspace="0" height="5" width="5" src="images/void.gif"><b>Configuring Legacy Devices</b></font></td><td background="images/bar-border-right.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td>
</tr>
<tr>
<td align="right" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-left.gif"></td><td background="images/bar-border-bottom.gif"><img border="0" hspace="0" vspace="0" height="12" width="1" src="images/void.gif"></td><td align="left" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-right.gif"></td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" width="95%" border="0">
<tr>
<td><font color="#000000" face="arial,helvetica,sanserif">
				
<p align="justify">It is easy to configure DELI to recognise legacy 
devices via user-agent strings. A user-agent string is a string sent by the client to 
the server as part of the HTTP request. It allows different browsers to be identified.  
The legacy device configuration file maps user-agent 
strings on to profile either on the local filestore or on a profile repository. 
By default this is done in the <code><font face="courier, monospaced">legacyDevice.xml</font></code> file which 
has the following format:</p>
				
<div align="center">
<table border="0" cellpadding="0" cellspacing="4">
<tr>
<td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
<tr>
<td width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td bgcolor="#ffffff">
<pre>
&lt;?xml version="1.0"?&gt;
&lt;devices&gt;
  &lt;legacyDevice&gt;
    &lt;useragentstring&gt;MSIE&lt;/useragentstring&gt;
    &lt;profileref&gt;http://www.profiles.org/legacyProfiles/msie.rdf&lt;/profileref&gt;
  &lt;/legacyDevice&gt;
  &lt;legacyDevice&gt;
    &lt;useragentstring&gt;mozilla&lt;/useragentstring&gt;
    &lt;profileref&gt;resources/deli/legacyProfiles/mozSample.rdf&lt;/profileref&gt;
  &lt;/legacyDevice&gt;
&lt;/devices&gt;
</pre>
</td><td width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
<tr>
<td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
</table>
</div>
				
<p align="justify">Where <code><font face="courier, monospaced">useragentstring</font></code> is a device unique string found in 
the user-agent string of the device and <code><font face="courier, monospaced">profileref</font></code> is either a local file or a URL
for the appropriate legacy profile. </p>
			
</font></td>
</tr>
</table>
</div>
<br>
		
</font></td>
</tr>
</table>
</div>
<br>
		
<div align="right">
<table cellpadding="0" cellspacing="0" width="98%" border="0">
<tr>
<td align="right" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-left.gif"></td><td background="images/bar-border-top.gif"><img border="0" hspace="0" vspace="0" height="5" width="1" src="images/void.gif"></td><td align="left" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-right.gif"></td>
</tr>
<tr>
<td background="images/bar-border-left.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td><td bgcolor="#0086b2" width="100%"><font color="#ffffff" face="arial,helvetica,sanserif" size="+1"><img border="0" hspace="0" vspace="0" height="5" width="5" src="images/void.gif"><b>Writing CC/PP and UAProf aware stylesheets</b></font></td><td background="images/bar-border-right.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td>
</tr>
<tr>
<td align="right" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-left.gif"></td><td background="images/bar-border-bottom.gif"><img border="0" hspace="0" vspace="0" height="12" src="images/void.gif"></td><td align="left" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-right.gif"></td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" width="98%" border="0">
<tr>
<td><font color="#000000" face="arial,helvetica,sanserif">
			
<p align="justify">Once you have got DELI running on Cocoon, the next
step in creating a CC/PP aware site is to create some stylesheets that
use profile information. DELI makes CC/PP or UAProf attributes available
to XSLT stylesheets as parameters. In the process of doing this, DELI 'flattens' the profiles
by omitting the component information. Hence to retrieve the
<code><font face="courier, monospaced">CcppAccept</font></code> attribute you use the XPath <code><font face="courier, monospaced">deli-capabilities/browser/CcppAccept</font></code>
whereas to retrieve the <code><font face="courier, monospaced">ScreenSize</font></code> attribute you use the
XPath <code><font face="courier, monospaced">deli-capabilities/browser/ScreenSize</font></code>. 
In addition where attributes contain multiple values e.g. Bags or Sequences
those values are separated using <code><font face="courier, monospaced">&lt;li&gt;</font></code> elements. 
Hence to retrieve the individual elements you use the XPath 
<code><font face="courier, monospaced">deli-capabilities/browser/CcppAccept/li</font></code>. 
The following code demonstrates how to retrieve both a simple and a complex
attribute. For more complex examples see the <code><font face="courier, monospaced">deli_test.xsl</font></code> stylesheet with Cocoon.</p>
			
<div align="center">
<table border="0" cellpadding="0" cellspacing="4">
<tr>
<td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
<tr>
<td width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td bgcolor="#ffffff">
<pre>
&lt;?xml version="1.0"?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;
 &lt;xsl:param name="deli-capabilities"/&gt;
 &lt;xsl:template match="/"&gt;
  &lt;xsl:if test="contains($deli-capabilities/browser/CcppAccept/li,'wml')"&gt;
   &lt;xsl:call-template name="wmldevice"/&gt;
  &lt;/xsl:if&gt;
  &lt;xsl:if test="not(contains($deli-capabilities/browser/CcppAccept/li,'wml'))"&gt;
   &lt;xsl:call-template name="htmldevice"/&gt;
  &lt;/xsl:if&gt;
 &lt;/xsl:template&gt;

 &lt;xsl:template name="wmldevice"&gt;
  &lt;wml&gt;
   &lt;card id="init" newcontext="true"&gt;
    &lt;p&gt;
     &lt;xsl:call-template name="capabilities"/&gt;
    &lt;/p&gt;
   &lt;/card&gt;
  &lt;/wml&gt;
 &lt;/xsl:template&gt;

 &lt;xsl:template name="htmldevice"&gt;
  &lt;html&gt;
   &lt;head&gt;
    &lt;title&gt;Test Page for DELI in Cocoon&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
    &lt;xsl:call-template name="capabilities"/&gt;
   &lt;/body&gt;
  &lt;/html&gt;
 &lt;/xsl:template&gt;

 &lt;xsl:template name="capabilities"&gt;
  &lt;xsl:if test="$deli-capabilities/browser/ImageCapable"&gt;
   ImageCapable: &lt;xsl:value-of select="$deli-capabilities/browser/ImageCapable"/&gt;
   &lt;br/&gt;
  &lt;/xsl:if&gt;
  &lt;xsl:if test="$deli-capabilities/browser/CcppAccept"&gt;
   CcppAccept:
   &lt;xsl:for-each select="$deli-capabilities/browser/CcppAccept/li"&gt;
    &lt;xsl:value-of select="."/&gt;, 
   &lt;/xsl:for-each&gt;
   &lt;br/&gt;
  &lt;/xsl:if&gt;
 &lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;

</pre>
</td><td width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
<tr>
<td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
</table>
</div>
		
</font></td>
</tr>
</table>
</div>
<br>
		
<div align="right">
<table cellpadding="0" cellspacing="0" width="98%" border="0">
<tr>
<td align="right" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-left.gif"></td><td background="images/bar-border-top.gif"><img border="0" hspace="0" vspace="0" height="5" width="1" src="images/void.gif"></td><td align="left" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-right.gif"></td>
</tr>
<tr>
<td background="images/bar-border-left.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td><td bgcolor="#0086b2" width="100%"><font color="#ffffff" face="arial,helvetica,sanserif" size="+1"><img border="0" hspace="0" vspace="0" height="5" width="5" src="images/void.gif"><b>More information ?</b></font></td><td background="images/bar-border-right.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td>
</tr>
<tr>
<td align="right" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-left.gif"></td><td background="images/bar-border-bottom.gif"><img border="0" hspace="0" vspace="0" height="12" src="images/void.gif"></td><td align="left" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-right.gif"></td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" width="98%" border="0">
<tr>
<td><font color="#000000" face="arial,helvetica,sanserif">
			
<p align="justify">For more information on the DELI library please refer to the 
<a href="http://www-uk.hpl.hp.com/people/marbut/">DELI web-site</a>.</p>
		
</font></td>
</tr>
</table>
</div>
<br>
	

</td>
</tr>
</table>
</td>
</tr>
</table>
<table width="100%" cellspacing="0" cellpadding="0" border="0">
<tr>
<td bgcolor="#0086b2"><img width="1" src="images/dot.gif" height="1"></td>
</tr>
<tr>
<td align="center"><font size="-1" face="arial,helvetica,sanserif" color="#0086b2"><i>Copyright &copy; 1999-2002 The Apache Software Foundation. All Rights Reserved.</i></font></td>
</tr>
</table>
</body>
</html>
