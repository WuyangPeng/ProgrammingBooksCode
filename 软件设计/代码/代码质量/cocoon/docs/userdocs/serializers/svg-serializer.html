<html xmlns:NetUtils="org.apache.cocoon.util.NetUtils">
<head>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>The SVG Serializer</title>
<script type="text/javascript" src="resources/script.js" language="JavaScript"></script>
</head>
<body bgcolor="#ffffff" marginheight="4" marginwidth="4" leftmargin="4" topmargin="4" alink="#cc0000" vlink="#0086b2" link="#039acc" text="#000000">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" rowspan="3" height="60" width="135"><img border="0" vspace="0" hspace="0" src="images/logo.gif" height="60" width="135"></td><td background="images/line.gif" colspan="2" align="left" valign="top" height="5" width="100%"><img align="left" border="0" vspace="0" hspace="0" src="images/line.gif" height="5" width="1"></td><td align="left" valign="top" rowspan="3" height="60" width="29"><img border="0" vspace="0" hspace="0" src="images/right.gif" height="60" width="29"></td>
</tr>
<tr>
<td bgcolor="#0086b2" colspan="2" align="right" valign="top" height="35" width="100%"><img align="right" alt="The SVG Serializer" border="0" vspace="0" hspace="0" src="graphics/svg-serializer-header.jpg_label=The%20SVG%20Serializer.jpg"></td>
</tr>
<tr>
<td background="images/bottom.gif" bgcolor="#0086b2" align="left" valign="top" height="20" width="100%"><img align="left" border="0" vspace="0" hspace="0" src="images/bottom.gif" height="20" width="3"></td><td background="images/bottom.gif" width="288" valign="top" height="20" bgcolor="#0086b2" align="right">
<table width="288" cellspacing="0" cellpadding="0" border="0">
<tr>
<td align="left" valign="top" height="20" width="96"><a onMouseOver="rolloverOn('xml');" onMouseOut="rolloverOff('xml');" target="new" href="http://xml.apache.org/"><img onLoad="rolloverLoad('xml', 'images/button-xml-hi.gif', 'images/button-xml-lo.gif');" border="0" vspace="0" hspace="0" name="xml" src="images/button-xml-lo.gif" height="20" width="96" alt="http://xml.apache.org/"></a></td><td align="left" valign="top" height="20" width="96"><a onMouseOver="rolloverOn('asf');" onMouseOut="rolloverOff('asf');" target="new" href="http://www.apache.org/"><img onLoad="rolloverLoad('asf', 'images/button-asf-hi.gif', 'images/button-asf-lo.gif');" border="0" vspace="0" hspace="0" name="asf" src="images/button-asf-lo.gif" height="20" width="96" alt="http://www.apache.org/"></a></td><td align="left" valign="top" height="20" width="96"><a onMouseOver="rolloverOn('w3c');" onMouseOut="rolloverOff('w3c');" target="new" href="http://www.w3.org/"><img onLoad="rolloverLoad('w3c', 'images/button-w3c-hi.gif', 'images/button-w3c-lo.gif');" border="0" vspace="0" hspace="0" name="w3c" src="images/button-w3c-lo.gif" height="20" width="96" alt="http://www.w3.org/"></a></td>
</tr>
</table>
</td>
</tr>
</table>
<table width="100%" cellspacing="0" cellpadding="0" border="0">
<tr width="100%">
<td valign="top" width="120">
<table width="120" cellspacing="0" cellpadding="0" border="0">
<tr>
<td valign="top" align="left"><img width="120" vspace="0" src="images/join.gif" hspace="0" height="14" border="0"><br>
</td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('Main')" onMouseOut="rolloverOff('Main')" href="../../index.html"><img onLoad="rolloverLoad('Main', 'graphics/Main-label_over.jpg', 'graphics/Main-label.jpg');" vspace="0" hspace="0" name="Main" width="120" height="12" border="0" src="graphics/Main-label.jpg" alt="Main"></a></td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('User Documentation')" onMouseOut="rolloverOff('User Documentation')" href="../index.html"><img onLoad="rolloverLoad('User Documentation', 'graphics/User%20Documentation-label_over.jpg', 'graphics/User%20Documentation-label.jpg');" vspace="0" hspace="0" name="User Documentation" width="120" height="12" border="0" src="graphics/User%20Documentation-label.jpg" alt="User Documentation"></a></td>
</tr>
<tr>
<td valign="top" align="left"><img alt="Serializers" width="120" vspace="0" src="graphics/Serializers-separator.jpg" hspace="0" height="20" border="0"><br>
</td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('Overview')" onMouseOut="rolloverOff('Overview')" href="serializers.html"><img onLoad="rolloverLoad('Overview', 'graphics/Overview-label_over.jpg', 'graphics/Overview-label.jpg');" vspace="0" hspace="0" name="Overview" width="120" height="12" border="0" src="graphics/Overview-label.jpg" alt="Overview"></a></td>
</tr>
<tr>
<td valign="top" align="left"><img alt="Default" width="120" vspace="0" src="graphics/Default-separator.jpg" hspace="0" height="20" border="0"><br>
</td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('HTML Serializer')" onMouseOut="rolloverOff('HTML Serializer')" href="html-serializer.html"><img onLoad="rolloverLoad('HTML Serializer', 'graphics/HTML%20Serializer-label_over.jpg', 'graphics/HTML%20Serializer-label.jpg');" vspace="0" hspace="0" name="HTML Serializer" width="120" height="12" border="0" src="graphics/HTML%20Serializer-label.jpg" alt="HTML Serializer"></a></td>
</tr>
<tr>
<td valign="top" align="left"><img alt="Core" width="120" vspace="0" src="graphics/Core-separator.jpg" hspace="0" height="20" border="0"><br>
</td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('XML Serializer')" onMouseOut="rolloverOff('XML Serializer')" href="xml-serializer.html"><img onLoad="rolloverLoad('XML Serializer', 'graphics/XML%20Serializer-label_over.jpg', 'graphics/XML%20Serializer-label.jpg');" vspace="0" hspace="0" name="XML Serializer" width="120" height="12" border="0" src="graphics/XML%20Serializer-label.jpg" alt="XML Serializer"></a></td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('Text Serializer')" onMouseOut="rolloverOff('Text Serializer')" href="text-serializer.html"><img onLoad="rolloverLoad('Text Serializer', 'graphics/Text%20Serializer-label_over.jpg', 'graphics/Text%20Serializer-label.jpg');" vspace="0" hspace="0" name="Text Serializer" width="120" height="12" border="0" src="graphics/Text%20Serializer-label.jpg" alt="Text Serializer"></a></td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('WAP/WML Serializer')" onMouseOut="rolloverOff('WAP/WML Serializer')" href="wap-serializer.html"><img onLoad="rolloverLoad('WAP/WML Serializer', 'graphics/WAP/WML%20Serializer-label_over.jpg', 'graphics/WAP/WML%20Serializer-label.jpg');" vspace="0" hspace="0" name="WAP/WML Serializer" width="120" height="12" border="0" src="graphics/WAP/WML%20Serializer-label.jpg" alt="WAP/WML Serializer"></a></td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('SVG Serializer')" onMouseOut="rolloverOff('SVG Serializer')" href="svg-serializer.html"><img onLoad="rolloverLoad('SVG Serializer', 'graphics/SVG%20Serializer-label_over.jpg', 'graphics/SVG%20Serializer-label.jpg');" vspace="0" hspace="0" name="SVG Serializer" width="120" height="12" border="0" src="graphics/SVG%20Serializer-label.jpg" alt="SVG Serializer"></a></td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('SVG/XML Serializer')" onMouseOut="rolloverOff('SVG/XML Serializer')" href="svgxml-serializer.html"><img onLoad="rolloverLoad('SVG/XML Serializer', 'graphics/SVG/XML%20Serializer-label_over.jpg', 'graphics/SVG/XML%20Serializer-label.jpg');" vspace="0" hspace="0" name="SVG/XML Serializer" width="120" height="12" border="0" src="graphics/SVG/XML%20Serializer-label.jpg" alt="SVG/XML Serializer"></a></td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('SVG/JPEG Serializer')" onMouseOut="rolloverOff('SVG/JPEG Serializer')" href="svgjpeg-serializer.html"><img onLoad="rolloverLoad('SVG/JPEG Serializer', 'graphics/SVG/JPEG%20Serializer-label_over.jpg', 'graphics/SVG/JPEG%20Serializer-label.jpg');" vspace="0" hspace="0" name="SVG/JPEG Serializer" width="120" height="12" border="0" src="graphics/SVG/JPEG%20Serializer-label.jpg" alt="SVG/JPEG Serializer"></a></td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('SVG/PNG Serializer')" onMouseOut="rolloverOff('SVG/PNG Serializer')" href="svgpng-serializer.html"><img onLoad="rolloverLoad('SVG/PNG Serializer', 'graphics/SVG/PNG%20Serializer-label_over.jpg', 'graphics/SVG/PNG%20Serializer-label.jpg');" vspace="0" hspace="0" name="SVG/PNG Serializer" width="120" height="12" border="0" src="graphics/SVG/PNG%20Serializer-label.jpg" alt="SVG/PNG Serializer"></a></td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('VRML Serializer')" onMouseOut="rolloverOff('VRML Serializer')" href="vrml-serializer.html"><img onLoad="rolloverLoad('VRML Serializer', 'graphics/VRML%20Serializer-label_over.jpg', 'graphics/VRML%20Serializer-label.jpg');" vspace="0" hspace="0" name="VRML Serializer" width="120" height="12" border="0" src="graphics/VRML%20Serializer-label.jpg" alt="VRML Serializer"></a></td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('Link Serializer')" onMouseOut="rolloverOff('Link Serializer')" href="link-serializer.html"><img onLoad="rolloverLoad('Link Serializer', 'graphics/Link%20Serializer-label_over.jpg', 'graphics/Link%20Serializer-label.jpg');" vspace="0" hspace="0" name="Link Serializer" width="120" height="12" border="0" src="graphics/Link%20Serializer-label.jpg" alt="Link Serializer"></a></td>
</tr>
<tr>
<td valign="top" align="left"><img alt="Optional" width="120" vspace="0" src="graphics/Optional-separator.jpg" hspace="0" height="20" border="0"><br>
</td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('PDF Serializer')" onMouseOut="rolloverOff('PDF Serializer')" href="pdf-serializer.html"><img onLoad="rolloverLoad('PDF Serializer', 'graphics/PDF%20Serializer-label_over.jpg', 'graphics/PDF%20Serializer-label.jpg');" vspace="0" hspace="0" name="PDF Serializer" width="120" height="12" border="0" src="graphics/PDF%20Serializer-label.jpg" alt="PDF Serializer"></a></td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('PS Serializer')" onMouseOut="rolloverOff('PS Serializer')" href="ps-serializer.html"><img onLoad="rolloverLoad('PS Serializer', 'graphics/PS%20Serializer-label_over.jpg', 'graphics/PS%20Serializer-label.jpg');" vspace="0" hspace="0" name="PS Serializer" width="120" height="12" border="0" src="graphics/PS%20Serializer-label.jpg" alt="PS Serializer"></a></td>
</tr>
<tr>
<td valign="top" align="left"><a onMouseOver="rolloverOn('PCL Serializer')" onMouseOut="rolloverOff('PCL Serializer')" href="pcl-serializer.html"><img onLoad="rolloverLoad('PCL Serializer', 'graphics/PCL%20Serializer-label_over.jpg', 'graphics/PCL%20Serializer-label.jpg');" vspace="0" hspace="0" name="PCL Serializer" width="120" height="12" border="0" src="graphics/PCL%20Serializer-label.jpg" alt="PCL Serializer"></a></td>
</tr>
<tr>
<td align="left" valign="top"><img width="120" vspace="0" src="images/close.gif" hspace="0" height="14" border="0"><br>
</td>
</tr>
</table>
</td><td>
<table cellspacing="0" cellpadding="0" border="0">
<tr>
<td height="10" width="100%"></td>
</tr>
<tr>
<td>
	
	
	
		
<div align="right">
<table cellpadding="0" cellspacing="0" width="98%" border="0">
<tr>
<td align="right" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-left.gif"></td><td background="images/bar-border-top.gif"><img border="0" hspace="0" vspace="0" height="5" width="1" src="images/void.gif"></td><td align="left" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-right.gif"></td>
</tr>
<tr>
<td background="images/bar-border-left.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td><td bgcolor="#0086b2" width="100%"><font color="#ffffff" face="arial,helvetica,sanserif" size="+1"><img border="0" hspace="0" vspace="0" height="5" width="5" src="images/void.gif"><b>SVG Serializer</b></font></td><td background="images/bar-border-right.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td>
</tr>
<tr>
<td align="right" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-left.gif"></td><td background="images/bar-border-bottom.gif"><img border="0" hspace="0" vspace="0" height="12" src="images/void.gif"></td><td align="left" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-right.gif"></td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" width="98%" border="0">
<tr>
<td><font color="#000000" face="arial,helvetica,sanserif">
			
<div align="right">
<table cellpadding="0" cellspacing="0" width="95%" border="0">
<tr>
<td align="right" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-left.gif"></td><td background="images/bar-border-top.gif"><img border="0" hspace="0" vspace="0" height="5" width="1" src="images/void.gif"></td><td align="left" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-right.gif"></td>
</tr>
<tr>
<td background="images/bar-border-left.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td><td bgcolor="#0086b2" width="100%"><font color="#ffffff" face="arial,helvetica,sanserif"><img border="0" hspace="0" vspace="0" height="5" width="5" src="images/void.gif"><b>Introduction</b></font></td><td background="images/bar-border-right.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td>
</tr>
<tr>
<td align="right" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-left.gif"></td><td background="images/bar-border-bottom.gif"><img border="0" hspace="0" vspace="0" height="12" width="1" src="images/void.gif"></td><td align="left" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-right.gif"></td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" width="95%" border="0">
<tr>
<td><font color="#000000" face="arial,helvetica,sanserif">
				
<p align="justify">
					The SVG Serializer is an advanced serializer which accepts
					valid Scalable Vector Graphic documents (currently to the
					2000-08-02 Candidate Recommendation specification) and
					renders it to an image which is served just like any other
					document in Cocoon.
				</p>
				
<p align="justify">
					Why would you want to do this? Well, charts can be produced from the
					same data which generates tables, graphical images with text labels
					all following a standard theme can be generated or normal pages can be
					beautified.
				</p>
				
<p>
<table border="0" cellpadding="0" cellspacing="3" width="100%">
<tr>
<td valign="top" width="28"><img alt="Note" border="0" hspace="0" vspace="0" height="29" width="28" src="images/note.gif"></td><td valign="top"><font color="#000000" face="arial,helvetica,sanserif" size="-1"><i>
					For examples of this serializer, see the Cocoon welcome
					page in the distribution (<code><font face="courier, monospaced">[cocoon
					root]/welcome</font></code>).
				</i></font></td>
</tr>
</table>
</p>
				
<p align="justify">
					So how does this serializer work?
				</p>
				
<blockquote>
<ol>
					
<li>Parse and validate SVG document</li>
					
<li>Call Batik's <code><font face="courier, monospaced">Transcoder</font></code> to encode this image as an image file, and return it to the user.</li>
				
</ol>
</blockquote>
			
</font></td>
</tr>
</table>
</div>
<br>

			
<div align="right">
<table cellpadding="0" cellspacing="0" width="95%" border="0">
<tr>
<td align="right" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-left.gif"></td><td background="images/bar-border-top.gif"><img border="0" hspace="0" vspace="0" height="5" width="1" src="images/void.gif"></td><td align="left" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-right.gif"></td>
</tr>
<tr>
<td background="images/bar-border-left.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td><td bgcolor="#0086b2" width="100%"><font color="#ffffff" face="arial,helvetica,sanserif"><img border="0" hspace="0" vspace="0" height="5" width="5" src="images/void.gif"><b>Usage</b></font></td><td background="images/bar-border-right.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td>
</tr>
<tr>
<td align="right" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-left.gif"></td><td background="images/bar-border-bottom.gif"><img border="0" hspace="0" vspace="0" height="12" width="1" src="images/void.gif"></td><td align="left" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-right.gif"></td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" width="95%" border="0">
<tr>
<td><font color="#000000" face="arial,helvetica,sanserif">
				
<p align="justify">The best way to explain how this serializer works is to show some examples.</p>
				
<div align="right">
<table cellpadding="0" cellspacing="0" width="90%" border="0">
<tr>
<td align="right" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-left.gif"></td><td background="images/bar-border-top.gif"><img border="0" hspace="0" vspace="0" height="5" width="1" src="images/void.gif"></td><td align="left" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-right.gif"></td>
</tr>
<tr>
<td background="images/bar-border-left.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td><td bgcolor="#0086b2" width="100%"><font color="#ffffff" face="arial,helvetica,sanserif" size="-1"><img border="0" hspace="0" vspace="0" height="5" width="5" src="images/void.gif"><b>Basic Example</b></font></td><td background="images/bar-border-right.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td>
</tr>
<tr>
<td align="right" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-left.gif"></td><td background="images/bar-border-bottom.gif"><img border="0" hspace="0" vspace="0" height="12" width="1" src="images/void.gif"></td><td align="left" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-right.gif"></td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" width="90%" border="0">
<tr>
<td><font color="#000000" face="arial,helvetica,sanserif">
					
<p align="justify">This is a basic example of the serializer.</p>
					
<div align="center">
<table border="0" cellpadding="0" cellspacing="4">
<tr>
<td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
<tr>
<td width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td bgcolor="#ffffff">
<pre>
&lt;map:serializers&gt;
  &lt;map:serializer&gt;
    &lt;map:serializer name="svg2jpeg" mime-type="image/jpeg" 
                    src="org.apache.cocoon.serialization.SVGSerializer"&gt;
      &lt;parameter name="transcoder" 
                 value="org.apache.batik.transcoder.image.JPEGTranscoder"/&gt;
  &lt;/map:serializer&gt;
&lt;map:serializers&gt;
...
&lt;map:pipeline&gt;
  &lt;map:match pattern="sample.jpeg"&gt;
    &lt;map:generate type="file" src="sample.svg"/&gt; 
    &lt;map:serialize type="svg2jpeg"/&gt;
  &lt;/map:match&gt;	
&lt;/map:pipeline&gt;
						</pre>
</td><td width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
<tr>
<td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
</table>
</div>
					
<p align="justify">
						When the resource <code><font face="courier, monospaced">sample.jpeg</font></code> is requested, a SAX event
						stream is generated from the file <code><font face="courier, monospaced">sample.svg</font></code>, which is
						serialized using the <code><font face="courier, monospaced">svg2jpeg</font></code> serializer. This
						serializer is configured to use a specific transcoder. The MIME type
						is specified so that Cocoon can tell the client which type the
						document is. It can be seen that in general the use of this
						serializer is identical to that of the other serializers.
					</p>
				
</font></td>
</tr>
</table>
</div>
<br>

				
<div align="right">
<table cellpadding="0" cellspacing="0" width="90%" border="0">
<tr>
<td align="right" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-left.gif"></td><td background="images/bar-border-top.gif"><img border="0" hspace="0" vspace="0" height="5" width="1" src="images/void.gif"></td><td align="left" valign="bottom" height="7" width="9"><img border="0" hspace="0" vspace="0" height="7" width="9" src="images/bar-top-right.gif"></td>
</tr>
<tr>
<td background="images/bar-border-left.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td><td bgcolor="#0086b2" width="100%"><font color="#ffffff" face="arial,helvetica,sanserif" size="-1"><img border="0" hspace="0" vspace="0" height="5" width="5" src="images/void.gif"><b>Advanced Example</b></font></td><td background="images/bar-border-right.gif" width="9"><img border="0" hspace="0" vspace="0" height="1" width="9" src="images/void.gif"></td>
</tr>
<tr>
<td align="right" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-left.gif"></td><td background="images/bar-border-bottom.gif"><img border="0" hspace="0" vspace="0" height="12" width="1" src="images/void.gif"></td><td align="left" valign="top" height="12" width="9"><img border="0" hspace="0" vspace="0" height="12" width="9" src="images/bar-bottom-right.gif"></td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" width="90%" border="0">
<tr>
<td><font color="#000000" face="arial,helvetica,sanserif">
					
<p align="justify">This is a more advanced sample of using the SVG Serializer.</p>
					
<div align="center">
<table border="0" cellpadding="0" cellspacing="4">
<tr>
<td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
<tr>
<td width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td bgcolor="#ffffff">
<pre>
&lt;map:serializers&gt;
  &lt;map:serializer&gt;
    &lt;map:serializer name="svg2jpeg" mime-type="image/jpeg" 
                    src="org.apache.cocoon.serialization.SVGSerializer"&gt;
      &lt;parameter name="transcoder" 
                 value="org.apache.batik.transcoder.image.JPEGTranscoder"/&gt;
      &lt;parameter name="background_color" type="color" value="#00FF00"/&gt;
  &lt;/map:serializer&gt;
&lt;map:serializers&gt;
...
&lt;map:pipeline&gt;
  &lt;map:match pattern="sample.jpeg"&gt;
    &lt;map:generate type="file" src="sample.svg"/&gt; 
    &lt;map:serialize type="svg2jpeg"/&gt;
  &lt;/map:match&gt;	
&lt;/map:pipeline&gt;
						</pre>
</td><td width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
<tr>
<td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td><td height="1" width="1" bgcolor="#0086b2"><img border="0" hspace="0" vspace="0" height="1" width="1" src="images/void.gif"></td>
</tr>
</table>
</div>
					
<p align="justify">
						In this example another parameter is given to the serializer,
						<code><font face="courier, monospaced">background_color</font></code>. This parameter is passed to the
						transcoder. The <code><font face="courier, monospaced">type</font></code> argument specifies the type of
						data to convert the <code><font face="courier, monospaced">value</font></code> to. In this example the
						string "#00FF00" is converted to a <code><font face="courier, monospaced">Color</font></code> object, which
						is passed to the transcoder as the background colour to
						use.
					</p>
					
<p align="justify">
						For a list of the parameters available for each transcoder, refer to
						the Batik API docs.
					</p>
					
					
<p align="justify">
						For this to work reliably with any transcoder, some magic must be
						done. First, the parameter name is transformed to upper-case and then "KEY_" is
						prepended. This is to match the internal naming scheme of the hints
						in the Batik <code><font face="courier, monospaced">Transcoder</font></code> interfaces. This name is then
						looked up via Reflection to ensure it is a valid parameter on the
						specified transcoder. Then the value is converted to the type
						specified in the <code><font face="courier, monospaced">type</font></code> attribute (currently supported
						types are string, float, integer, boolean and color) and passed to
						the transcoder.
					</p>
				
</font></td>
</tr>
</table>
</div>
<br>
			
</font></td>
</tr>
</table>
</div>
<br>
		
</font></td>
</tr>
</table>
</div>
<br>
	

</td>
</tr>
</table>
</td>
</tr>
</table>
<table width="100%" cellspacing="0" cellpadding="0" border="0">
<tr>
<td bgcolor="#0086b2"><img width="1" src="images/dot.gif" height="1"></td>
</tr>
<tr>
<td align="center"><font size="-1" face="arial,helvetica,sanserif" color="#0086b2"><i>Copyright &copy; 1999-2002 The Apache Software Foundation. All Rights Reserved.</i></font></td>
</tr>
</table>
</body>
</html>
